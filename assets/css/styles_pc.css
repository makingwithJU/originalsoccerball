:root {
  --bg: #000;
  --text: #f2f2f2;
  --muted: #bfbfbf;
  --accent: #bbb; /* 無彩色（青系を不使用） */
  --hero2-bg: #000;
}

html.theme-invert {
  --hero2-bg: #fff;
}

* { box-sizing: border-box; }
html, body { height: 100%; overflow-x: hidden; }

.animate-me{opacity:0;transform:translateY(22px);transition:opacity .6s ease,transform .6s ease;will-change:opacity,transform;}
.animate-me.is-visible{opacity:1;transform:none;}
.animate-me .ju-char{display:inline-block;transform:translate3d(0,120%,0);opacity:0;transition:transform .5s cubic-bezier(.19,1,.22,1),opacity .5s ease;will-change:transform,opacity;}
.animate-me .ju-char-visible{transform:translate3d(0,0,0);opacity:1;}
@media (prefers-reduced-motion: reduce){.animate-me{transition:none;transform:none;} .animate-me.is-visible{opacity:1;}}
@media (prefers-reduced-motion: reduce){.animate-me .ju-char{transition:none;transform:none;opacity:1;}}
/* Mobile text rendering: respect user/device adjustments */
html{ -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
/* Smooth scrolling on iOS */
html, body{ -webkit-overflow-scrolling: touch; }
/* スクロールバーを常時確保して横ズレ抑止（サポート環境）*/
html { overflow-y: scroll; scrollbar-gutter: stable both-edges; }
/* スクロール禁止（動画の終了まで） */
html.scroll-locked, body.scroll-locked { overflow: hidden !important; overscroll-behavior: contain; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;
  color: var(--text);
  background: #000; /* 背景黒を全ページで統一 */
  /* 通常時は余白なし。ロック中のみ右側に確保して幅を揃える */
}
/* ロック中は右にスクロールバー相当の余白を付与（解除時の横ズレ防止） */
body.scroll-locked { padding-right: var(--sbw, 0px); }
/* Overlay cursor support */
.ju-hide-cursor, .ju-hide-cursor * { cursor: none !important; }
#ju-cursor { position: fixed; left:0; top:0; width:26px; height:26px; pointer-events:none; z-index: 100000; transform: translate(-50%, -50%); border-radius: 50%; box-shadow: inset 0 0 0 2px #111; background: radial-gradient(ellipse at 35% 35%, #fff 0%, #eee 60%, #ddd 100%); }

/* Header */
.site-header {
  position: sticky; /* スクロールしても常に上部 */
  top: 0;
  z-index: 1000;
  background: rgba(0,0,0,0.42); /* すりガラス風の帯 */
  border-bottom: 1px solid rgba(255,255,255,0.08);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  backdrop-filter: blur(10px) saturate(120%);
  transform: translateY(0);
  transition: opacity 0.6s ease;
}

.site-header.before-unlock{
  opacity: 0;
  pointer-events: none;
}


.header-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 14px 20px; /* 高さ調整 */
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

/* Scroll effects */
.site-header.blur, .site-header.blurry-start, .site-header.hide { }
.site-header.condensed .header-inner { padding-top: 14px; padding-bottom: 14px; }

/* Enter animation */
.site-header .header-inner {
  transition: transform 0.6s ease-out 0.2s, opacity 0.6s ease-out 0.2s;
}
.site-header.before-unlock .header-inner {
  opacity: 0;
  transform: translateY(16px);
}
.site-header .brand, .site-header .nav {
  opacity: 0;
  transform: none;
  transition: opacity 0.45s ease 0.1s;
}

.site-header.is-visible .brand,
.site-header.is-visible .nav {
  opacity: 1;
  transform: none;
}

.brand {
  display: inline-flex;
  align-items: center;
  gap: 14px;
  color: inherit;
  text-decoration: none;
}

.brand-mark {
  display: block;
  width: 90px;
}

.brand-logo-image {
  height: 48px;
  width: auto;
  display: block;
  margin: 0 auto;
}

.brand-mark .sig {
  width: 56px;
  height: auto;
  justify-self: start;
  filter: brightness(0) invert(1); /* 白化（ロゴが暗色でも見えるように） */
}

.brand-mark .sig-img {
  width: 56px;
  height: auto;
  justify-self: start;
  filter: none; /* ロゴそのままの色で表示 */
}

.brand-mark .dome-img,
.brand-mark .dome-fallback {
  width: 70px;
  height: 28px;
  margin-top: -8px;
}

.brand-text {
  font-weight: 600;
  letter-spacing: 0.08em;
  font-size: 28px;
}

/* Subtle stagger for header elements */
.site-header.is-visible .brand { animation-delay: 150ms; }
.site-header.is-visible .nav { animation-delay: 400ms; }

.nav {
  display: flex;
  gap: clamp(24px, 4vw, 56px);
  align-items: center;
}

/* Status Tooltip */
.status-tooltip-wrapper {
  position: relative;
  cursor: default; /* カーソルを標準に */
}

.status-text { font-weight: 600; color: #ff6ec7; }

.tooltip-box {
  position: absolute;
  top: 100%; /* テキストの下に表示 */
  left: 50%;
  transform: translateX(-50%) translateY(10px); /* 少し下に離す */
  background-color: #333; /* 吹き出しの背景色 */
  color: #fff;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  font-weight: normal;
  white-space: nowrap; /* 折り返しなし */
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  
  /* 初期状態は非表示 */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

/* 吹き出しの三角形 */
.tooltip-box::after {
  content: '';
  position: absolute;
  bottom: 100%; /* 上向きの三角形 */
  left: 50%;
  transform: translateX(-50%);
  border-width: 5px;
  border-style: solid;
  border-color: transparent transparent #333 transparent;
}

/* ホバー時に吹き出しを表示 */
.status-tooltip-wrapper:hover .tooltip-box {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(15px); /* 少し下に移動する効果 */
}


/* Content */
.hero { position: relative; min-height: 100vh; overflow: hidden; display: grid; place-items: center; }
.hero-media { position: fixed; inset: -10px; z-index:0; pointer-events: none; }
.hero-video { position: absolute; inset: -10px; overflow: hidden; z-index: 0;
  /* 黒一色のフラッシュを避けるためにソフトなグラデーションを表示 */
  background: radial-gradient(120% 120% at 50% 40%, #161616 0%, #0b0b0b 60%, #000 100%);
}
/* デバッグのため最前面に固定（確認後に absolute + z-index:1 に戻せます） */
.face3d-layer { position: fixed; inset: 0; z-index: 2500; pointer-events: none; }
/* DOMフォールバックは撤去（要求により3Dのみ表示） */
.video-el {
  position: fixed; inset: -10px; width: calc(100% + 20px); height: calc(100% + 20px); object-fit: cover;
  filter: none;
}
.yt-player, .video-iframe {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  width: max(100vw, 177.78vh); /* cover 16:9 */
  height: max(56.25vw, 100vh);
  pointer-events: none; /* クリックを透過 */
  filter: none; /* 0822 と同様にフィルタなし */
  opacity: 1; /* すぐ表示 */
}
.video-thumb {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  width: max(100vw, 177.78vh);
  height: max(56.25vw, 100vh);
  object-fit: cover;
  filter: none;
  opacity: 1;
  transition: opacity .4s ease;
}
.video-thumb.is-hidden { opacity: 0; }
.hero-fade { position: absolute; left: 0; right: 0; bottom: 0; height: 22vh; background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, #000 85%); pointer-events: none; }
/* no overlay wrapper: title is direct child of .hero */
/* gsap-local風 + ネガ（difference）。大きく中央やや下・1行固定。サイズはJSでfit */
.title-fit { transform-origin: center center; will-change: transform; z-index:1; }
.hero-title {
  margin: 0;
  padding: 0;
  max-width: none;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;
  font-weight: 900; letter-spacing: -0.04em; line-height: .9;
  /* 以前の大きさを維持 */
  font-size: 13vw;
  /* default nowrap to match desktop look; overridden on mobile below */
  white-space: nowrap; text-align: center; overflow: visible;
  color: #fff;
  mix-blend-mode: difference;
  z-index: 2;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transform: translateY(12px);
  will-change: transform, opacity, filter;
  /* スクロールバーの表示/非表示で位置が動かないよう、vw依存のオフセットは使わない */
}
.gooey-wrapper {
  position: relative;
  /* すべての語で同じエフェクトに統一 */
  filter: url(#threshold);
  display: block;
  width: max-content;
  margin: 0 auto;
  padding: clamp(60px, 10vw, 180px) clamp(90px, 18vw, 280px);
  box-sizing: content-box;
  overflow: visible;
}

html.is-safari-desktop .gooey-wrapper {
  padding: clamp(80px, 15vw, 320px) clamp(140px, 24vw, 380px);
}

.gooey-wrapper::after {
  content: '';
  position: absolute;
  inset: -60vh -60vw;
  pointer-events: none;
}


}
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.blend-title, .blend-svg, .blend-title text { display:none; }
.title-wrap { will-change: transform; transform-origin: center center; }

/* Title base size 設定は上記のclampで固定 */

/* After video ends */
.hero.ended { background: #000; }
.hero.ended .hero-video { display: none; }
.hero.ended .hero-fade { display: none; }

.section {
  padding: 64px 20px;
  max-width: 900px;
  margin: 0 auto;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.section.alt {
  background: #0f0f0f;
}

@media (max-width: 560px) {
  .brand-text { font-size: 22px; }
  .brand-mark { width: 76px; }
  .brand-mark .sig,
  .brand-mark .sig-img { width: 48px; }
  .brand-mark .dome-img,
  .brand-mark .dome-fallback { width: 62px; height: 24px; }
}

/* --- New GS Section --- */
.gs-section {
  padding: clamp(60px, 10vw, 120px) clamp(20px, 5vw, 40px);
  overflow: hidden; /* For revealing animations */
}

.gs-container {
  width: min(1100px, 92vw);
  margin: 0 auto;
  text-align: left;
}

.gs-overline {
  color: inherit; /* 白黒に統一 */
  font-size: clamp(14px, 1.5vw, 16px);
  font-weight: 400;
  margin-bottom: 16px;
  letter-spacing: 0.05em;
}

.gs-heading {
  font-size: clamp(24px, 3vw, 32px);
  font-weight: 600;
  line-height: 1.3;
  margin: 0 0 clamp(80px, 12vw, 140px) 0;
  max-width: 800px;
}

/* === Emphasis Headings: match YNWA scale === */
#story .gs-heading,
#features .gs-overline,
#works .gs-overline,
#policy .gs-overline,
#design-intro .ju-design__eyebrow,
#faq-accordion .gs-overline,
#originalballmaking-visual-1 .gs-overline,
#originalballmaking-visual-2 .gs-overline{
  font-size: clamp(40px, 8vw, 90px) !important;
  font-weight: 900 !important;
  letter-spacing: -0.02em;
  line-height: 1.05;
  margin-bottom: clamp(18px, 2vw, 28px);
}

/* Better readability for big headings */
#features .gs-overline,
#works .gs-overline,
#policy .gs-overline,
#faq-accordion .gs-overline{
  display:block;
}

.gs-grid-3 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: clamp(40px, 5vw, 60px);
}

/* 強制デスクトップ配置（横並び） */
@media (min-width: 980px){
  #story .gs-grid-3 { grid-template-columns: repeat(3, 1fr) !important; }
  #production-info .gs-grid-3 { grid-template-columns: repeat(3, 1fr) !important; }
  #features .gs-grid-2 { grid-template-columns: repeat(2, 1fr) !important; }
}

.gs-card {
  display: flex;
  align-items: flex-start;
  text-align: left;
  gap: 20px;
}

.gs-card-icon-wrapper {
  color: inherit; /* 白黒に統一 */
}

.gs-card-icon-wrapper .mbr-iconfont {
  font-size: clamp(24px, 3vw, 28px);
}

.gs-card-content {
  flex: 1;
}

.gs-card-title {
  font-size: clamp(17px, 2vw, 18px);
  font-weight: 600;
  margin: 0 0 12px 0;
}

.gs-card-text {
  font-size: clamp(11px, 1.2vw, 13px); /* さらに小さく */
  line-height: 1.7;
  color: var(--muted);
}

.text-nowrap {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* はみ出た部分を...で表示 */
}

/* ===== Mobile fixes ===== */
@media (max-width: 900px){
  /* スクロールスナップ無効化（スワイプ阻害防止） */
  html{ scroll-snap-type: none !important; }
  .scroll-panel{ scroll-snap-align: none !important; scroll-snap-stop: normal !important; }

  /* HEROの見出しは1行固定で収まるサイズに */
  .hero-title{ white-space: nowrap; line-height: 1; font-size: clamp(8vw, 10vw, 12vw); letter-spacing: -0.02em; }

  /* ツールチップなどは折返し許可 */
  .status-tooltip-wrapper .tooltip-box,
  .testimonial-author-inline,
  .ju-line-dot::after{ white-space: normal; }

  /* 日本語の改行: 文節優先。強制分割(anywhere)は使わない */
  p, .gs-work-text, .gs-card-text{
    word-break: normal !important; /* デフォルトに戻す */
    overflow-wrap: break-word; /* !importantを外した状態に戻す */
    line-break: loose; /* 最も緩い改行ルールを適用 */
  }

  /* スワイプで縦スクロールを優先 */
  html, body, .scroll-panel, .gs-section, .ju-policy, .ju-design{ touch-action: pan-y !important; }
}

/* --- GS Works Section --- */
.gs-grid-4 {
  display: grid;
  gap: clamp(20px, 4vw, 40px);
  grid-template-columns: repeat(4, 1fr); /* デフォルトは4カラム */
}

/* 中くらいの画面 (例: 1024px以下) で2カラムに */
@media (max-width: 1024px) {
  .gs-grid-4 {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* 狭い画面 (例: 600px以下) で1カラムに */
@media (max-width: 600px) {
  .gs-grid-4 {
    grid-template-columns: repeat(1, 1fr);
  }
}

.gs-work-image-wrapper {
  aspect-ratio: 1 / 1;
  overflow: hidden;
  margin-bottom: 24px;
  border-radius: 8px;
}

.gs-work-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.gs-work-card:hover .gs-work-image {
  transform: scale(1.05);
}

.gs-work-image-wrapper--funball03 {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: clamp(1px, 0.35vw, 8px);
  background: #050505;
  box-sizing: border-box;
}

.gs-work-image--funball03 {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transform: scale(1.25);
}

.gs-work-card:hover .gs-work-image--funball03 {
  transform: scale(1.31);
}

.gs-work-content {
  text-align: left;
}

.gs-work-title {
  font-size: clamp(17px, 2vw, 18px);
  font-weight: 600;
  margin: 0 0 8px 0;
}

.gs-work-text {
  font-size: clamp(14px, 1.5vw, 15px);
  color: var(--muted);
}

/* --- GS Features Section --- */
.gs-grid-2 {
  display: grid;
  gap: clamp(40px, 6vw, 80px);
  grid-template-columns: repeat(2, 1fr);
}

@media (max-width: 768px) {
  .gs-grid-2 {
    grid-template-columns: repeat(1, 1fr);
  }
}

.gs-feature-card {
  text-align: left;
}

.gs-feature-title {
  font-size: clamp(20px, 2.5vw, 24px);
  font-weight: 600;
  margin: 0 0 24px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  padding-bottom: 16px;
}

.gs-feature-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.gs-feature-list li {
  font-size: clamp(16px, 1.8vw, 18px);
  padding: 12px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Stickyセクションはアニメーションを掛けず、クラス付与時も即時表示 */
.gs-card.is-visible,
.gs-work-card.is-visible,
.gs-feature-card.is-visible,
.scroll-panel.is-inview .gs-card,
.scroll-panel.is-inview .gs-work-card,
.scroll-panel.is-inview .gs-feature-card,
.ju-design__eyebrow.is-visible,
.ju-design__text.is-visible,
.scroll-panel.is-inview .ju-design__eyebrow,
.scroll-panel.is-inview .ju-design__text,
.ju-policy .ju-acc__btn .ttl.is-visible,
.ju-policy .ju-acc__text.is-visible,
.ju-policy figure.is-visible,
.ju-policy img.is-visible,
.scroll-panel.is-inview .ju-policy .ju-acc__btn .ttl,
.scroll-panel.is-inview .ju-policy .ju-acc__text,
.scroll-panel.is-inview .ju-policy figure,
.scroll-panel.is-inview .ju-policy img{
  opacity: 1;
  transform: none;
  animation: none;
}

/* 見出しはJSで制御する（初期状態はそのまま表示） */
/* ベース見出し */
.gs-overline,
.gs-heading{
  opacity: 1;
  transform: none;
}

/* Scroll reveal for headings */
.gs-overline[data-ju-slide="heading"],
.gs-heading[data-ju-slide="heading"]{
  display: inline-block;
  opacity: 0;
  transform: translate3d(0, var(--ju-slide-start, 1200px), 0);
  transition: none;
  will-change: transform, opacity;
}

.scroll-panel .gs-overline,
.scroll-panel .gs-heading{
  will-change: transform;
}

.ju-slide-active{
  opacity: 1 !important;
  transform: translate3d(0, 0, 0) !important;
  animation: none !important;
}

.scroll-panel.is-inview .gs-overline[data-ju-slide="heading"],
.scroll-panel.is-inview .gs-heading[data-ju-slide="heading"],
.gs-overline[data-ju-slide="heading"].is-visible,
.gs-heading[data-ju-slide="heading"].is-visible{
  animation: none !important;
}

.section.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.hero-title span {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: inline-block;
  text-align: center;
  white-space: nowrap;
}


/* Reveal animations */
.hero-title.is-visible {
  /* ゆっくり浮かび上がる＋発光が消える */
  animation: 
    floatFade 2000ms cubic-bezier(.22,.61,.36,1) 0ms both,
    glowIn    1800ms ease-out 200ms both;
}
/* Gooey開始までは2レイヤー目を隠して明瞭に */
/* GooeyのON/OFFに関わらず常に同じ見え方に */
.hero-title:not(.gooey-on) #text2 { opacity: 1 !important; filter: none !important; }
.hero-title:not(.gooey-on) #text1 { opacity: 1 !important; filter: none !important; }
.hero-title:not(.gooey-on) .gooey-wrapper { filter: url(#threshold) !important; }

@keyframes floatFade {
  0% { opacity: 0; transform: translateY(16px) scale(0.985); filter: blur(1.5px); }
  60% { opacity: 0.6; }
  100% { opacity: 1; transform: translateY(0) scale(1); filter: none; }
}

@keyframes glowIn {
  0% { text-shadow: 0 0 24px rgba(255,255,255,0.35); }
  100% { text-shadow: 0 0 0 rgba(0,0,0,0); }
}

@media (prefers-reduced-motion: reduce) {
  ..site-header .brand, .site-header .nav, .hero-title { animation: none !important; transition: none !important; }
}
/* === ju-line-dot (追加) === */
.ju-line-dot{
  display:inline-block;
  width:.5rem; height:.5rem;
  margin-left:.4rem; margin-right:.1rem;
  border-radius:50%;
  vertical-align:middle;
  position:relative;
  opacity:.85;
}
.ju-line-dot::after{
  content: attr(data-line);
  position:absolute;
  left:50%; transform:translateX(-50%) translateY(-.35rem);
  top:calc(100% + .25rem);
  white-space:nowrap;
  font-size:.70rem;
  line-height:1;
  padding:.18rem .35rem;
  border:1px solid rgba(0,0,0,.15);
  background:rgba(255,255,255,.98);
  color:inherit;
  border-radius:.35rem;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  opacity:0; pointer-events:none; transition:opacity .15s ease;
}
.ju-line-dot:hover::after{ opacity:1; }

/* 系統ごとの色（控えめ） */
.ju-line--fullcolorballs{ background:#2e86ff; }      /* 青 */
.ju-line--silkscreenballs{ background:#27ae60; }     /* 緑 */
.ju-line--originalballmaking{ background:#e67e22; }  /* 橙 */
.ju-line--other{ background:#7f8c8d; }               /* グレー */

@media (prefers-color-scheme: dark){
  .ju-line-dot::after{
    border-color:rgba(255,255,255,.18);
    background:rgba(15,15,15,.98);
  }
}

/* --- Video Section --- */
.video-wrapper {
  position: relative;
  padding-bottom: 56.25%; /* 16:9 */
  height: 0;
  overflow: hidden;
  max-width: 100%;
  margin-block: 32px;
  border-radius: 8px;
}
.video-wrapper iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.btn-container {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
}
.custom-btn {
  display: inline-block;
  padding: 10px 22px;
  border: 1px solid rgba(255, 255, 255, 0.5);
  color: var(--text);
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 0.3s, color 0.3s;
  cursor: pointer;
  background: transparent; /* UAのデフォルト灰色背景を無効化 */
  -webkit-appearance: none;
  appearance: none;
}
.custom-btn:hover{ background: rgba(255,255,255,0.06); }
.custom-btn:active{ background: rgba(255,255,255,0.1); }

/* --- Info Section --- */
.gs-info-card {
  padding: clamp(22px, 3vw, 30px);
  border: 1.5px solid rgba(255, 255, 255, 0.45);
  border-radius: 14px;
  background: linear-gradient(135deg, rgba(18,18,18,0.75) 0%, rgba(6,6,6,0.6) 100%);
  box-shadow: 0 18px 38px rgba(0,0,0,0.45);
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
}
.gs-info-card:hover{
  transform: translateY(-8px);
  border-color: rgba(255,255,255,0.75);
  box-shadow: 0 26px 52px rgba(0,0,0,0.55);
}

#production-info .gs-info-card{
  border-color: rgba(255,255,255,0.6);
}
.gs-info-title {
  font-size: clamp(17px, 2vw, 18px);
  font-weight: 600;
  margin: 0 0 12px 0;
}
.gs-info-number {
  margin-right: 8px;
  color: var(--muted);
}
.gs-info-text {
  font-size: clamp(14px, 1.5vw, 15px);
  color: var(--muted);
  line-height: 1.7;
}

/* --- Testimonial Section --- */
.testimonial-wrapper {
  position: relative;
  text-align: center;
  max-width: 800px;
  margin: 0 auto;
}
.testimonial-icon {
  font-size: 4rem;
  opacity: 0.1;
  color: var(--text);
}
.testimonial-text {
  font-size: clamp(20px, 2.8vw, 28px);
  font-weight: 600;
  line-height: 1.6;
  margin: 24px 0;
  color: var(--text);
}
.testimonial-author-inline {
  color: var(--muted);
  font-size: 0.7em;
  font-style: normal;
  white-space: nowrap;
  margin-left: 0.5em;
}

/* --- Performance Optimization --- */
.gs-section,
.ju-design,
.ju-g-full,
.ju-policy {
  /* 元の見え方優先：要素は常に描画対象 */
  content-visibility: auto;
}
/* (rollback) keep original content-visibility behavior */
/* #story, #works, #features, #order, #design, #gallery { content-visibility: visible; contain: none; } */

/* === Fixed Notice & Footer (reveal with header) === */
#site-notice, footer { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
#site-notice.is-fixed{ position: fixed; left: 0; right: 0; bottom: 0; width: 100%; margin: 0 !important; z-index: 900; }
/* override full-bleed style when fixed */
#site-notice.is-fixed .band{ border-top: 1px solid #222; border-bottom: 1px solid #222; }
footer.is-fixed{ position: fixed; left: 0; right: 0; bottom: var(--notice-h, 0px); background: rgba(0,0,0,0.75); backdrop-filter: blur(6px); z-index: 900; }
#site-notice.is-visible, footer.is-visible{ opacity: 1; transform: none; }

/* === ScrollTrigger pin style (disabled) === */
.st-pin{ /* background:#000; z-index:100 !important; */ }

/* === JS Pin Lite (disabled) === */
.ju-pin-fixed{ position: static !important; }
.ju-pin-spacer{ height: 0px; display:none; }

/* === Section enter animation (HERO untouched) === */
.ju-anim{ opacity: 0; transform: translateY(22px); transition: opacity .7s ease, transform .7s ease; will-change: transform, opacity; }
.ju-anim.is-inview{ opacity: 1; transform: none; }
.ju-anim .gs-overline,
.ju-anim .gs-heading,
.ju-anim .gs-card,
.ju-anim .gs-work-card,
.ju-anim .gs-feature-card{ transition: opacity .7s ease, transform .7s ease; }

/* === Sticky Stack Overlay (HERO untouched, originals intact) === */
#ju-stack-overlay{ position: fixed; inset: 0; z-index: 200; display: none; pointer-events: none; background:#000; }
#ju-stack-overlay.is-on{ display:block; }
#ju-stack-overlay .ju-stack-panel{ position:absolute; inset:0; opacity:0; transition:opacity .3s ease; }
#ju-stack-overlay .ju-stack-panel.is-active{ opacity:1; }

/* (rollback) remove container-level snap to not affect HERO */

/* (rollback) remove document-level snap */

/* --- Mobile Responsiveness --- */
@media (max-width: 768px) {
  .gs-grid-2,
  .gs-grid-3,
  .gs-grid-4 {
    grid-template-columns: 1fr;
  }

  .ju-design__row {
    grid-template-columns: 1fr;
  }

  .gs-heading,
  #story .gs-heading,
  #features .gs-overline,
  #works .gs-overline,
  #policy .gs-overline,
  #design-intro .ju-design__eyebrow,
  #faq-accordion .gs-overline,
  #originalballmaking-visual-1 .gs-overline,
  #originalballmaking-visual-2 .gs-overline {
    font-size: clamp(32px, 10vw, 60px) !important;
  }

  .hero-title {
    font-size: 12vw;
  }

  #hero {
    align-items: center;
    justify-items: center;
  }

  #hero .hero-title {
    margin-top: 0 !important;
  }

#hero-2 {
  position: relative;
  background: var(--hero2-bg);
  overflow: hidden;
  width: 100vw;
  margin-left: calc(50% - 50vw);
}

#hero-2 .hero-media {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

#hero-2 .hero-video {
  position: absolute;
  inset: 0;
  background: inherit;
}

#hero-2 .hero-video iframe {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  min-width: 100%;
  min-height: 100%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
  border: 0;
}

#hero-2 .hero-fade {
  display: none !important;
}

#hero-2-slide {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  padding-inline: 0;
  background: var(--hero2-bg);
}

#hero-2-slide > .hero {
  width: 100%;
}

@media (max-width: 768px) {
  #hero-2,
  #hero-2 .hero-media,
  #hero-2 .hero-video,
  #hero-2-slide {
    background: var(--hero2-bg, #000);
  }
}

#hero-2 .hero-title {
  position: absolute !important;
  top: 48vh !important;
  left: 50% !important;
  transform: translate(-50%, 0) !important;
  margin: 0 auto !important;
  padding: 0 !important;
  width: auto !important;
  max-width: 92vw !important;
  text-align: center !important;
}



  .brand-text {
    font-size: 20px;
  }

  .header-inner {
    padding: 10px 15px;
  }

  .gs-section {
    padding: 40px 20px;
  }

  #testimonial-event-shop {
    min-height: 50vh;
  }
}

@media (max-width: 480px) {
  .gs-heading,
  #story .gs-heading,
  #features .gs-overline,
  #works .gs-overline,
  #policy .gs-overline,
  #design-intro .ju-design__eyebrow,
  #faq-accordion .gs-overline,
  #originalballmaking-visual-1 .gs-overline,
  #originalballmaking-visual-2 .gs-overline {
    font-size: clamp(28px, 9vw, 50px) !important;
  }

  .hero-title {
    font-size: 14vw;
  }


  .gs-card {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .gs-card-content {
    text-align: center;
  }
}

@media (orientation: landscape) and (max-width: 1024px) {
  .gs-container.desc-tight .gs-grid-4,
  #works .gs-grid-4.desc-tight,
  #order .gs-grid-4 {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

/* Touch devices: push hero tagline lower on screen */
@media (pointer:coarse) {
  #hero {
    align-items: center;
    justify-items: center;
  }

  #hero .hero-title {
    margin-top: 0 !important;
    top: auto;
  }

  #hero-2 {
    position: relative;
}

#hero-2 .hero-title {
  position: absolute !important;
  top: 48vh !important;
    left: 50% !important;
    transform: translate(-50%, 0) !important;
    margin: 0 auto !important;
    padding: 0 !important;
    width: auto !important;
    max-width: 92vw !important;
    text-align: center !important;
  }
}

html.is-touch-device #hero-2 {
  position: relative;
}

html.is-touch-device #hero-2 .hero-title {
  position: absolute !important;
  top: 48vh !important;
  left: 50% !important;
  transform: translate(-50%, 0) !important;
  margin: 0 auto !important;
  padding: 0 !important;
  width: auto !important;
  max-width: 92vw !important;
  text-align: center !important;
}

#hero-2-slide {
  background: #000;
}

#hero-2-slide > .hero {
  flex: 1;
  width: 100%;
}

#faq-slide {
  background: #000;
  padding-inline: 0;
}

#faq-slide .ju-policy {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 100%;
}

    .order-gallery {
      padding-top: clamp(60px, 8vw, 120px);
      padding-bottom: clamp(300px, 40vh, 500px);
      padding-inline: 0;
    }
.order-gallery__inner {
  width: 100%;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: clamp(32px, 4vw, 56px);
}

.order-gallery__head {
      width: min(1100px, 92vw);
      margin-inline: auto;
      text-align: left;
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 0; /* 見出し下の余白を削除 */
    }

    #order .gs-heading {
      line-height: 1.1; /* 行間を詰める */
    }

    .order-gallery__title {
  font-size: clamp(42px, 7vw, 88px);
  font-weight: 700;
  letter-spacing: 0.02em;
  margin: 0;
}

.order-gallery__lead {
  margin: 0;
  font-size: clamp(16px, 2vw, 20px);
  color: var(--muted);
}

.order-gallery__rail {
  position: relative;
  overflow: hidden;
  height: auto !important;
  min-height: clamp(320px, 56vh, 620px);
}


.order-gallery__track {
  display: flex;
  gap: clamp(24px, 3.2vw, 38px);
  align-items: stretch;
  height: auto;
}

.order-column {
  display: grid;
  gap: clamp(18px, 2.4vw, 28px);
  min-width: min(280px, 26vw);
  max-width: 360px;
  height: 100%;
  flex: 0 0 clamp(240px, 26vw, 360px);
}

    .order-column .gs-work-card {
      display: grid;
      gap: 8px; /* カード内要素の隙間を再設定 */
      background: none;
      border: none;
      border-radius: 18px;
      padding: 0;
      min-width: 220px;
      max-width: 320px;
      width: 100%;
      align-content: start;
    }

    .order-column .gs-work-image-wrapper {
      margin: 0;
      position: relative;
    }

    .order-column .gs-work-image {
      width: 100%;
      height: auto;
      aspect-ratio: 1 / 1;
      display: block;
      border-radius: 12px;
      object-fit: cover;
    }
.order-column .gs-work-content {
  display: grid;
  gap: 8px;
}

    .order-column .gs-work-title {
      margin: 0; /* マージンをリセット */  font-size: clamp(16px, 1.8vw, 18px);
  font-weight: 600;
}

    .order-column .gs-work-text {
      margin: 0;
      font-size: clamp(13px, 1.6vw, 15px);
      color: #fff;
      white-space: normal !important;
      line-height: 1.4; /* 説明文の行間を詰める */
    }
@media (max-width: 900px) {
  .order-gallery__track {
    gap: clamp(18px, 4vw, 28px);
  }
  .order-column {
    flex: 0 0 min(320px, 80vw);
    min-width: min(240px, 70vw);
    max-width: min(320px, 80vw);
  }
  .order-column .gs-work-text {
    font-size: 12px;
  }
}

/* Landscape phones keep extra headroom but stay within viewport */
@media (pointer:coarse) and (orientation: landscape) {
  #hero .hero-title {
    margin-top: 0 !important;
  }

  #hero-2 .hero-title {
    top: 42vh !important;
    bottom: auto !important;
    left: 50% !important;
    right: auto !important;
    transform: translate(-50%, 0) !important;
    margin: 0 auto !important;
    padding: 0 !important;
    width: auto !important;
    max-width: 92vw !important;
  }
}
/* ========== RESPONSIVE OVERRIDE (2025-09-23) ========== */

/* --- 1. Layout Grids --- */
/* 画面幅が1024px以下でグリッドレイアウトを調整 */
@media (max-width: 1024px) {
    .gs-grid-4,
    .gs-grid-3,
    .gs-grid-2,
    #design-intro .ju-design__row {
        grid-template-columns: repeat(2, 1fr) !important; /* タブレットサイズでは2列に */
    }
}

/* 画面幅が768px以下でグリッドレイアウトを調整 */
@media (max-width: 768px) {
    .gs-grid-4,
    .gs-grid-3,
    .gs-grid-2,
    #design-intro .ju-design__row,
    #policy .ju-policy__wrap {
        grid-template-columns: 1fr !important; /* スマートフォンサイズでは1列に */
    }
}


/* --- 2. Typography --- */
@media (max-width: 768px) {
    /* 見出しのサイズを調整 */
    .gs-heading,
    #story .gs-heading,
    #features .gs-overline,
    #works .gs-overline,
    #policy .gs-overline,
    #design-intro .ju-design__eyebrow,
    #faq-accordion .gs-overline {
        font-size: clamp(32px, 10vw, 50px) !important;
        line-height: 1.2 !important;
        margin-bottom: 1.5rem !important;
    }

    .hero-title {
        font-size: 12vw !important;
    }

    /* 本文テキストのサイズを調整 */
    .gs-card-text,
    .gs-work-text,
    .gs-info-text,
    .ju-design__text,
    .ju-acc__text {
        font-size: 15px !important;
        line-height: 1.7 !important;
    }
}


/* --- 3. Spacing --- */
@media (max-width: 768px) {
    .gs-section {
        padding: 60px 20px !important;
    }

    .gs-grid-3,
    .gs-grid-4 {
        gap: 40px !important;
    }
}


/* --- 4. Word Wrapping (Reset to a safe default) --- */
p, .gs-work-text, .gs-card-text, .ju-design__text {
    word-break: normal !important;
    overflow-wrap: break-word !important;
    line-break: auto !important;
    white-space: normal !important; /* Allow wrapping */
}

/* Apply nowrap ONLY to the specific class intended for it */
.desc-tight {
    white-space: nowrap !important;
}

/* === HERO動画終了後の黒統一 === */
.hero.ended { 
  background: var(--bg) !important;
}
.hero.ended .hero-video {
  background: transparent !important;
}
.hero.ended .hero-fade {
  display: none !important;
}
/* MOBILE cursor sanity */
@media (hover: none), (pointer: coarse) {
  html, body, * { cursor: auto !important; }
}
